<!DOCTYPE html>
<html>
	 <head>
		 <link rel="stylesheet" type="text/css" href="test.css">
		 <title> Dialog-Box </title>
	 </head>
	 <body>
	 	 
		 <canvas id="canvas" width="800" height="400"></canvas>
		 	 <div id="dialogoverlay"></div>
		 	 <div id="dialogbox">
			 <div>
				 <div id="dialogboxhead"></div>
				 <div id="dialogboxbody"></div>
				 <div id="dialogboxfooter"></div>
			  </div>
		</div>	

		 <h2>Web Box</h2>
		 <button onclick="Alert.render('You look very pretty today.')">Custom Alert</button>
		 <button onclick="Alert.render('And you also smell very nice.')">Custom Alert 2</button>
		
		 <script>
		
		 function CustomAlert(){
   			 this.render = function(dialog){
        		 var dialogoverlay = document.getElementById('dialogoverlay');
        	 	 var dialogbox = document.getElementById('dialogbox');
        	 	 dialogbox.style.left = (canvas.width/2) + "px";
        	 	 dialogbox.style.top = (canvas.height/2) +"px";
        	 	 dialogbox.style.display = "block";
        	 	 document.getElementById('dialogboxhead').innerHTML = "Acknowledge This Message";
        	 	 document.getElementById('dialogboxbody').innerHTML = dialog;
        	 	 document.getElementById('dialogboxfooter').innerHTML = '<button onclick="Alert.ok()">OK</button>';
    		 }
	
			 this.ok = function(){
		 	 	 document.getElementById('dialogbox').style.display = "none";
			 	 document.getElementById('dialogoverlay').style.display = "none";
			}
		 }
		
		 var Alert = new CustomAlert();
		 var canvas = document.getElementById("canvas");
		 var ctx = canvas.getContext("2d")
		 var onMove = false;

		 function oMousePos(canvas, evt) {
 		  	 var client = canvas.getBoundingClientRect();
  		 	 return { // devuelve un objeto
   	       		 x: Math.round(evt.clientX - client.left),
   	        	 y: Math.round(evt.clientY - client.top)
   	   		 };
 	 	 }

 		 ctx.canvas.addEventListener("mousedown", function(evt) {   
  	 		 var mousePos = oMousePos(canvas, evt);
     		 if (ctx.isPointInPath(mousePos.x, mousePos.y)) {
         	 	 onMove = true;
         	 	 z = z - mousePos.x;
         	 	 v = v - mousePos.y; 
     		 }
 	 	 }, false);

 		 ctx.canvas.addEventListener("mousemove", function(evt) {
  	 	 	 var mousePos = oMousePos(canvas, evt);
     		 if (onMove) {
     	  		 z = mousePos.x + dialogbox.style.left; 
         		 v = mousePos.y + dialogbox.style.top;
       	 		 rect.dibujar();
     		 }
	  	 }, false);

 		 ctx.canvas.addEventListener("mouseup", function(evt) {
  	 		 onMove = false;
 		 }, false);	 


			 </script> 
	</body>
</html>